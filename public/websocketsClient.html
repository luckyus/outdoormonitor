<!DOCTYPE html>
<html lang="en">
	<div>
		<span>Temperature: </span>
		<span id='temperature'>---</span>
	</div>

<body>
	<script>
		function subscribeToWs(url, msg) {
			var socket = new WebSocket(url);
			var temp = document.getElementById('temperature');

			socket.onmessage = function(event) {
				var result = JSON.parse(event.data);
				temp.innerHTML = result.value;
				console.log(JSON.parse(event.data));
			};
			socket.onerror = function(error) {
				console.log('An error occurred while trying to connect to a Websocket!');
				console.log(error);
			};
			socket.onopen = function(event) {
				if (msg) {
					socket.send(msg);
				}
			};
		}

		subscribeToWs('ws://outdoormonitor.local:3000/api/v1/sensors/temperature');
	</script>
</body>

</html>